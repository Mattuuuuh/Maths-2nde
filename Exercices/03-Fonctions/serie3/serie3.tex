\input{../preamble.tex}

\usepackage{minted}

\SetDate[14/11/2025]

\begin{document}
\pagestyle{fancy}
\fancyhead[L]{Seconde}
\fancyhead[C]{\textbf{Fonctions, balayages, et comparaisons en Python}}
\fancyhead[R]{\today}

\subsection*{Définir une fonction}

\begin{multicols}{3}
	L'instruction \texttt{def} permet de définir une fonction.
	L'indentation délimite les bornes de la fonction.
	L'instruction \texttt{return} définit la valeur retournée.
	
	%Un fonction peut prendre plusieurs arguments.
	
	\columnbreak
	\centering
	\begin{minipage}{.1\textwidth}
	\python{fonction}
	\end{minipage}	
	
	\columnbreak
	\centering
	\begin{minipage}{.1\textwidth}
	\python{fonction2}
	\end{minipage}
\end{multicols}

\exe{}{
	Considérons la fonction $f(x) = 2 - x$. 
	
	Que valent $f(2)$ et $f(-1)$ ? Vérifier les réponses à l'aide de Python.
}{exe:first-example}{
	$f(2) = 2-2 = 0$ et $f(-1) = 2-(-1) = 3$.
	
	\python{affine}
}

\subsection*{Balayer un intervalle}

\begin{multicols}{2}
	Pour parcourir l'intervalle $[a ; b]$ en prenant $N+1$ valeurs espacées uniformément,
	on calcule
		\begin{align*} 
			x = a + \dfrac{k}N (b-a), && \text{pour} && k = 0, 1, 2, 3, \dots, N.
		\end{align*}
	L'expression \texttt{range(N+1)} correspond à l'ensemble ${\bigset{ 0 ; 1 ; 2 ; \dots ; N }}$.

	\columnbreak
	\centering
	\begin{minipage}{.2\textwidth}
	\python{balayage}
	\end{minipage}
\end{multicols}


\exe{}{
	Considérons la fonction inverse $f(x) = \frac1x$. 
	
	Calculer les images par $f$ de 101 antécédents entre -1 et 1.
	Que remarque-t-on ?
}{exe:inv}{
	%\begin{multicols}{2}
	\python{inverse}
	%\end{multicols}
}

\subsection*{Comparer deux valeurs}


\begin{multicols}{2}
	La comparaison \texttt{x==y} renvoie \texttt{True} si $x=y$, et \texttt{False} sinon.
	
	L'instruction conditionnelle \texttt{if x == y:} permet d'exécuter un bloc d'instructions dès que l'égalité $x=y$ est vraie.
	
	\begin{enumerate}[label=\warning]
		\item deux signes \texttt{=} sont nécessaires pour distinguer la comparaison de l'affectation.
	\end{enumerate}
	
	\columnbreak
	\centering
	\begin{minipage}{.1\textwidth}
	\python{condition}
	\end{minipage}
\end{multicols}

\exe{}{
	Écarter le cas $x=0$ de la fonction inverse de l'exercice \ref{exe:inv} afin de pouvoir calculer n'importe quelle image sans erreur.
}{exe:inv-with-cond}{
	\begin{multicols}{2}
	\python{inverse-condition}
	\end{multicols}
}

\subsection*{Précision}

\begin{multicols}{2}
	La précision étant finie, la comparaison peut renvoyer \texttt{False} alors que les valeurs comparées sont théoriquement égales.
	
	Pour éviter ces problèmes, il peut être pertinent de vérifier que deux valeurs sont proches plutôt qu'égales.
	On vérifiera alors que la distance entre $x$ et $y$ est plus petite que $0,001$ (par exemple) au lieu que $x = y$.
	
	L'appel \texttt{abs(x-y)} permet de calculer la distance entre $x$ et $y$.
	
	\columnbreak
	\centering
	\begin{minipage}{.2\textwidth}
	\python{precision}
	\end{minipage}
\end{multicols}


%\subsection*{Exercices : fonctions}

\exe{}{
	Implémenter la fonction \texttt{carre(x)} qui renvoie le carré de \texttt{x}.
	
	Vérifier que la fonction est bien correcte en affichant les valeurs de \texttt{carre(5)} et \texttt{carre(-3)}.
}{exe:carre}{
	\begin{multicols}{2}
	\python{carre}
	\end{multicols}
}

\exe{}{
	Considérons la fonction $f(x) = \dfrac{-x^2 - x + 2}2$ sur $\R$.
	Calculer $f(-2)$ et $f(-1)$ puis vérifier ses réponses à l'aide de Python.
}{exe:tabval-serie1}{
	\begin{multicols}{2}
	\python{tabval}
	\end{multicols}
}

\subsection*{Exercices : longueurs}


\exe{, difficulty=1}{
	Implémenter la fonction \texttt{carre\_longueur(xA, yA, xB, yB)} qui renvoient la longueur $AB^2$.
	%, où \texttt{xA, yA, xB, yB} sont les coordonées de $A$ et de $B$.
	On pourra utiliser la fonction \texttt{carre} de l'exercice \ref{exe:carre}.
	
	Calculer \texttt{carre\_longueur(2,1,-1,-3)} à la main puis vérifier la réponse à l'aide de Python.
}{exe:carre-longueur}{
	\python{carre-longueur}
}

\exe{, difficulty=2}{
	Implémenter la fonction \texttt{is\_isosceles(xA, yA, xB, yB)} qui renvoie \texttt{True} si le triangle $ABO$ est isocèle en $O$, et \texttt{False} sinon.
	On pourra utiliser la fonction \texttt{carre\_longueur} de l'exercice \nolinebreak\ref{exe:carre-longueur}.
	
	Que vaut \texttt{is\_isosceles(-1, -3, 3, -1)} ? Vérifier la réponse à l'aide de Python.
}{exe:is-isosceles}{
	La fonction doit tester si l'égalité $OA^2 = OB^2$ est vraie.

	\python{isosceles}
}

\exe{, difficulty=2}{
	Implémenter la fonction \texttt{is\_rightangled(xA, yA, xB, yB)} qui renvoie \texttt{True} si le triangle $ABO$ est rectangle en $O$, et \texttt{False} sinon.
	On pourra utiliser la fonction \texttt{carre\_longueur} de l'exercice \ref{exe:carre-longueur}.
	
	Vérifier que \texttt{is\_rightangled(-1, 3, 6, 2)} renvoie \texttt{True} à la main puis avec Python.
}{exe:is-rightangled}{
	La fonction doit tester si l'égalité $OA^2 + OB^2 = AB^2$ est vraie.
	
	\python{rightangled}
}


\subsection*{Exercices : moyennes}


\exe{, difficulty=0}{
	Implémenter la fonction $\texttt{moyenne(x,y)}$ qui renvoie la moyenne de \texttt{x} et de \texttt{y}.
	
	Que valent \texttt{moyenne(10,7)} et \texttt{moyenne(7,10)} ? Vérifier les réponses à l'aide de Python.
}{exe:moyenne}{
	\begin{multicols}{2}
	\python{moyenne}
	\end{multicols}
}

\exe{, difficulty=1}{
	Définir la fonction $\texttt{moyenne\_ponderee(x, y, p)}$ qui renvoie la moyenne pondérée $p x + (1-p)y$.
	
	Calculer \texttt{moyenne\_ponderee(7, 10, 0.5)}, \texttt{moyenne\_ponderee(7, 10, 1/3)}, et \\
	\texttt{moyenne\_ponderee(7, 10, 2/3)} à la main puis vérifier les réponses à l'aide de Python.
}{exe:moyenne-ponderee}{
	\texttt{moyenne\_ponderee(7, 10, 0.5)} doit donner
		\[ 0,5 \times 7 + 0,5 \times 10 = 8,5. \]
	\texttt{moyenne\_ponderee(7, 10, 1/3)} doit donner
		\[ \dfrac13 \times 7 + \dfrac23 \times 10 = \dfrac{7+20}{3} = 9. \]
	\texttt{moyenne\_ponderee(7, 10, 2/3)} doit donner
		\[ \dfrac23 \times 7 + \dfrac13 \times 10 = \dfrac{14+10}{3} = 8. \]

	\begin{multicols}{2}
	\python{moyenne-ponderee}
	\end{multicols}
}

\exe{, difficulty=2}{
	Définir la fonction $\texttt{moyenne\_coeff(x,y, c1, c2)}$ qui renvoie la moyenne pondérée par les coefficients $c_1, c_2$ suivante.
		\[ \dfrac{c_1 x + c_2 y}{c_1 + c_2} \]
	
	Calculer \texttt{moyenne\_coeff(7, 10, 1, 1)}, \texttt{moyenne\_coeff(7, 10, 1, 2)}, et \texttt{moyenne\_coeff(7, 10, 2, 1)} à la main puis vérifier les réponses à l'aide de Python.
}{exe:moyenne-coeff}{
	\texttt{moyenne\_coeff(7, 10, 1,1)} doit donner
		\[ \dfrac{1 \times 7 + 1 \times 10}{1+1} = 8,5. \]
	\texttt{moyenne\_coeff(7, 10, 1,2)} doit donner
		\[ \dfrac{1 \times 7 + 2 \times 10}{1+2} = 9. \]
	\texttt{moyenne\_coeff(7, 10, 2,1)} doit donner
		\[ \dfrac{2 \times 7 + 1 \times 10}{2+1} = 8. \]

	\begin{multicols}{2}
	\python{moyenne-coeff}
	\end{multicols}
}

\subsection*{Exercices : comparaisons}

\exe{, difficulty=1}{
	Balayer l'intervalle $[1 ; 2]$ et afficher tous les $x\in[1;2]$ vérifiant $x^2 < 2$.
	
	En affinant le balayage, trouver un encadrement de $\sqrt2$ à $10^{-3}$ près.
}{exe:sqrt2}{
	\begin{multicols}{2}
	\python{sqrt2}
	\end{multicols}
	
	On choisit $N=1000$ pour balayer l'intervalle de $0,001$ en $0,001$.
	Le dernier $x$ affiché étant $1,414$, on en déduit l'encadrement
		\[ 1,414 < \sqrt2 < 1,415, \]
}

\exe{, difficulty=1}{
	Considérons $F(x) = x^2$ et $G(x) = -100x^2 + 1$.
	
	Parcourir 1001 antécédents $x$ de l'intervalle $[-1 ; 1]$ et afficher tous les $x$ vérifiant $F(x) < G(x)$.
	
	En déduire approximativement l'ensemble $\bigset{x \in [-1 ; 1] \tq F(x) < G(x)}$ sous forme d'intervalle.
}{exe:sqrt.5}{
	\begin{multicols}{2}
	\python{sqrt.5}
	\end{multicols}
	
	On déduit que 
		\[ \bigset{x \in [-1;1] \tq F(x) < G(x)} \approx [-0,098 ; 0,096]. \]
}


%%%%%%%%%%%

\newpage
\fancyhead[C]{\textbf{Solutions}}
\shipoutAnswer

\end{document}
