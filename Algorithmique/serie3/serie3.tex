				% ENABLE or DISABLE font change
				% use XeLaTeX if true
\newif\ifdys
				\dystrue
				\dysfalse

\newif\ifsolutions
				\solutionstrue
				\solutionsfalse

\input{../preamble.tex}

\AdvanceDate[2]

\begin{document}
\pagestyle{fancy}
\fancyhead[L]{Seconde 13}
\fancyhead[C]{\textbf{Algorithmique 3 : complexité et temps d'execution \ifsolutions \, -- Solutions  \fi}}
\fancyhead[R]{\today}

\subsection*{EduPython}

\begin{enumerate}[label=$\bullet$]
	\item Lancer EduPython. La fenêtre centrale sert de modification du code. La barre supérieur contient les raccourcis utiles. Dans la console du bas s'afficheront les appels à \texttt{print()}  ainsi que les erreurs éventuelles.
	\item Cliquer sur \og Nouveau fichier \fg~et choisir un fichier Python (extension \texttt{.py}).
	\item Dans la fenêtre principale, écrire \texttt{print(`Hello World!')} sur la première ligne. Ne pas oublier les apostrophes qui délimitent le texte !
	\item Appuyer sur la flèche verte de la barre de raccourcis ou sur Ctrl+F9 pour executer le programme. La console en bas affiche \texttt{Hello World!}.
	\item Appuyer sur Ctrl + S pour sauvegarder le fichier.
\end{enumerate}

\begin{minipage}{.5\textwidth}
\begin{mintedbox}{python}
a = 3
print(a >= 4)
if a >= 4:
	print('a est supérieur à 4')
else:
	print('a est inférieur à 4')
\end{mintedbox}
\end{minipage}
\hfill
\begin{minipage}{.4\textwidth}

L'\textbf{indentation} (le décalage par ajout d'espaces vides) délimite les blocs d'instructions.
On utilise la touche de tabulation \textbf{Tab} à gauche du clavier pour ajouter ces espaces vides (ou on appuie 4 fois sur la touche espace).

Implémenter le programme ci-contre et l'exécuter.
\end{minipage}

\subsection*{Exercices}

\exe{
	On considère différentes fonctions de la figure \ref{fig:1} qui servent à calculer la somme
		\[ S = 1 + 2 + \dots + (N-1) + N, \]
	pour un $N\in\N$ entier naturel donné.
	
	Implémenter les fonctions et répondre aux questions suivantes.
	
	\begin{enumerate}
		\item Appeler les fonctions \texttt{somme(N)} et \texttt{somme\_close(N)} pour $N=0, 1, 5, 10, 2^{10}, 2^{25}, 2^{28}$.
		Que dire sur les valeurs renvoyées ? Que dire sur les temps d'execution ?
		\item Combien d'opérations arithmétiques sont nécessaires pour que \texttt{somme(N)} termine ? On compte le nombre d'additions et de multiplications comme fonction de l'argument \texttt{N}.
		\item Combien d'opérations arithmétiques sont nécessaires pour que \texttt{somme\_close(N)} termine ? 
	\end{enumerate}
}{}

\begin{figure}[h!]
\begin{subfigure}{.5\textwidth}
\begin{mintedbox}{python}
def somme(N):
	S = 0
	for i in range(1,N+1):
		print('Étape', i)
		S = S+i
		print('S devient', S)
	return S

print(somme(5))
\end{mintedbox}
\caption{Version 1}
\end{subfigure}
\begin{subfigure}{.5\textwidth}
\begin{mintedbox}{python}
def somme_close(N):
	return N*(N+1)/2
	
print(somme_close(5))
\end{mintedbox}
\caption{Version 2}
\end{subfigure}
\caption{Programmes de calcul de la somme $S = 1 + \dots +N$.}
\label{fig:1}
\end{figure}

\exe{
	On considère différentes fonctions de la figure \ref{fig:2} qui servent à calculer la somme
		\[ S = 1^3 + 2^3 + \dots + (N-1)^3 + N^3, \]
	pour un $N\in\N$ entier naturel donné.
	
	Compléter puis implémenter la fonction figure \ref{fig:2a} et répondre aux questions suivantes.
	
	\begin{enumerate}
		\item Appeler les fonctions \texttt{somme3(N)} et \texttt{somme3\_close(N)} pour $N=1, 2, 5, 9, 2^{10}, 2^{23}, 2^{25}$.
		Comparer les valeurs renvoyées ainsi que les temps d'execution.
		\item Combien d'opérations arithmétiques sont nécessaires pour que \texttt{somme3(N)} termine ? 
		\item Combien d'opérations arithmétiques sont nécessaires pour que \texttt{somme3\_close(N)} termine ? 
	\end{enumerate}
}{}

\begin{figure}[h!]
\begin{subfigure}{.5\textwidth}
\begin{mintedbox}{python}
def somme3(N):
	S = ___
	for i in range(__,____):
		S = S + _____
	return S
\end{mintedbox}
\caption{Version 1}
\label{fig:2a}
\end{subfigure}
\begin{subfigure}{.5\textwidth}
\begin{mintedbox}{python}
def somme3_close(N):
	return (N*(N+1)/2)**2
\end{mintedbox}
\caption{Version 2}
\end{subfigure}
\caption{Programmes de calcul de la somme $S = 1^3 + \dots + N^3$.}
\label{fig:2}
\end{figure}

%\newpage

\exe{
	Démonter que la fonction récursive de la figure \ref{fig:4} renvoie la somme
		\[ S = 1 + 2 + \dots + N \]
	pour $N\in\N$ non nul, et $0$ pour $N\leq0$.
	
	Écrire un algorithme récursif renvoyant la somme 
		\[ S = 1 + 2^2 + 3^3 + \dots + N^N \]
	pour $N\in\N$ non nul, et $0$ pour $N\leq0$.
	Calculer les sommes pour $N=1, 2, 3$ à la main pour vérifier la validité du programme.
	Qui est le plus rapide entre Python et le calcul mental ?
}{}

% SOMME(N) RECURSIVE
\begin{figure}[h]
\begin{mintedbox}{python}
def triangulaire(N):
	if N<=0:
		return 0
	return N+triangulaire(N-1)
\end{mintedbox}
\caption{Fonction récursive de calcul de la somme $S=1+\dots+N$.}
\label{fig:4}
\end{figure}


\end{document}
