%!TEX encoding = UTF8
%!TEX root = 0-notes.tex

\chapter{Arithmétique}
\label{chap:arithmétique}

\section{Parité}

\notations{
	Pour noter la multiplication entre deux valeurs numériques, on note $2\times3$.
	Si une lettre rentre en jeu, on notera la multiplication par un point médian ($2\cdot b$) ou simplement rien ($2b$).
}

\dfn{multiple de 2}{
	La table de multiplication de $2$ donne tous les \emphindex{multiples} de $2$ :
		\setlength{\columnseprule}{0.4pt}
		\begin{multicols}{3}
			$2\times0 = 0$
			
			$2\times1 = 2$
			
			$2\times2 = 4$
			
			$2\times3 = 6$
			
			$2\times4 = 8$
			
			$2\times5 = 10$
			
			$2\times6 = 12$
			
			$2\times7 = 14$
			
			$2\times8 = 16$
			
			$2\times9 = 18$
			
			$2\times10 = 20$
			
			\qquad\vdots
		\end{multicols}
	Un multiple de $2$ est donc un nombre de la forme $2 \cdot k$, où $k\in\N$ est un entier naturel.
}{}

\dfn{parité}{
	Soit $n\in\N$ un nombre entier.
	
	On dit que $n$ est \emphindex{pair} si $n$ est un multiple de 2.
	Sinon, on dit que $n$ est \emphindex{impair}.
}{}

\exe{1}{
	Donner les chiffres pairs dont l'écriture en toutes lettres contient un nombre pair de lettres.
}{exe:pair-pair}{
	Il y a 5 chiffres pairs : 0, 2, 4, 6, et 8.
	Parmis eux, zéro, deux, quatre, et huit s'écrivent avec un nombre pair de lettres.
}

\thm{}{
	Si $n\in\N$ est impair, alors
		%\[ n = 2\cdot k + 1 \]
		\[ n = 2 k + 1 \]
	pour un certain entier naturel $k\in\N$.
}{thm:impair}

\pf{}{
	Considérons l'algorithme suivant : en partant de $n$ et tant que le résultat est supérieur ou égal à 2, on soustrait 2 au nombre en mémoire.
	En notant $k$ le nombre de fois que 2 a été soustrait, deux résultats sont possibles : 
		\begin{enumerate}[label=\roman*)]
			\item soit on obtient 0, auquel cas $n=2k$ ;
			\item soit on obtient 1, auquel cas $n=2k+1$.
		\end{enumerate}
	Si le nombre est impair, la première situation ne peut pas advenir, et $n  = 2k+1$.
}


\notations{
	Lorsque deux éléments $a, b$ appartiennent au même ensemble $E$, on notera « $a, b \in E$ » pour signifier « $a \in E, b \in E$ ».
}

\thm{}{
	Soient $m, n\in\N$ deux entiers naturels.
		\begin{enumerate}
			\item Si $m$ et $n$ sont pairs, alors $m+n$ est également pair.
			\item Si $m$ est pair et $n$ est impair, alors $m+n$ est impair.
			\item Si $m$ et $n$ sont impairs, alors $m+n$ est pair.
		\end{enumerate}
}{thm:parité-somme}

\exe{}{
	Démontrer le théorème \ref{thm:parité-somme}.
}{exe:thm-parité-somme}{
	Si $m$ et $n$ sont pairs, alors $m=2k$ et $n=2\ell$ pour deux entiers $k, \ell \in \N$.
	Il suit que 
		\[ m + n = 2k + 2\ell = 2(k+\ell), \]
	et donc que $m+n$ est pair, car $k+\ell \in \N$.
	
	Si $m$ est pair et $n$ est impair, alors $m=2k$ et $n=2\ell+1$ pour deux entiers $k, \ell \in \N$.
	Il suit que 
		\[ m + n = 2k + 2\ell + 1 = 2(k+\ell) + 1, \]
	et donc que $m+n$ est impair, car $k+\ell \in \N$.
	
	Si $m$ et $n$ sont impairs, alors $m=2k+1$ et $n=2\ell+1$ pour deux entiers $k, \ell \in \N$.
	Il suit que 
		\[ m + n = 2k +1 + 2\ell + 1 = 2(k+\ell + 1), \]
	et donc que $m+n$ est pair, car $k+\ell+1 \in \N$.
}


\exe{}{
	Lorsqu'on ouvre un livre, on peut identifier deux pages : celle de gauche, et celle de droite.
	Par exemple, la page 33 d'un livre est toujours une page de droite.
	
	Est-il possible que la page 330 soit également une page de droite ?
	
	Comment savoir si la page $n$ est de gauche ou de droite ?
}{exe:parité-pages}{
	todo
}

\exe{}{
	Montrer que si $n$ est pair, alors $m \cdot n$ est également pair pour n'importe quel entier $m\in\N$.
}{exe:mod2}{
	Par hypothèse, $n=2k$ pour un $k\in\N$.
	Donc $mn = m(2k) = 2(mk)$, qui est également pair car $mk\in\N$.
}

\notations{
	Pour n'importe quel nombre $x$ on dénote $x^2 = x \cdot x$ le produit de $x$ par lui-même.
	On lit « $x$ au carré » ou « $x$ carré ».
}

\nomen{
	Un entier $n\in\N$ est un \emphindex{carré parfait} si $n = k^2$ pour un certain entier $k\in\N$.
}

\exe{, difficulty=1}{
	Montrer que la différence de deux carrés parfaits consécutifs est un nombre impair.
}{exe:diff-carrés}{
	On pour tout $n\in\N$ et en utilisant une identité remarquable au choix, $(n+1)^2 - n^2 = (n+1+n)(n+1-n) = 2n+1$ est impair.
}

\exe{, difficulty=1}{
	On cherche les solutions entières de l'équation diophantienne $3x - 2y = 1$ où $x, y\in\Z$.
	\begin{enumerate}
		\item Montrer que $x = 2(y-x) + 1$ et en déduire que $x$ est impair.
		\item En écrivant $x = 2k+1$ pour un entier $k\in\Z$, montrer que $y=3k+1$. Est-ce que $y$ est toujours entier ?
		\item Prendre $k=35$ puis $k=-40$ et trouver les solution de $3x-2y=1$ associées.
	\end{enumerate}
}{exe:dioph}{
	Soient $x, y\in\Z$ une solution entière de l'équation $3x-2y=1$.
	\begin{enumerate}
		\item 
			\[ 3x - 2y = 1 \iff 3x = 2y + 1 \iff x + 2x = 2y + 1 \iff x = 2y-2x+1 \iff x = 2(y-x)+1. \]
		Comme $x$ et $y$ sont entiers, la différence $y-x$ l'est aussi.
		$x = 2(y-x)+1$ est donc un nombre impair.
		\item 
		$x$ étant impair, on peut l'écrire $x = 2k+1$ pour un entier $k\in\Z$. D'où
			\[ 3x - 2y = 1 \iff 3(2k+1) - 2y = 1 \iff 6k + 3 - 2y = 1 \iff 6k + 2 = 2y \iff y = 3k+1. \]
		$y = 3k+1$ est toujours entier car $k\in\Z$ l'est, et donc son triple aussi.
		\item 
		Pour $k=35$, $x=2k+1 = 71$ et $y=3k+1 = 106$. On vérifie que $3\times71 - 2\times106 = 1$.
		
		Pour $k=-40$, $x=2k+1 = -79$ et $y=3k+1 = -119$. On vérifie que $3\times(-79) - 2\times(-119) = 1$.
	\end{enumerate}
}

\exe{, difficulty=1}{
	On cherche les solutions entières de l'équation diophantienne $5x - 12y = 1$ où $x, y\in\Z$.
	Montrer que si $x_0, y_0 \in \Z$ sont une solution de l'équation, alors $x_0 + 12, y_0 + 5$ sont également solution.
	À partir d'une première solution entière de $5x-12y=1$, en trouver $3$ autres, toutes distinctes.
}{exe:dioph2}{
	On a bien
		\[ 5(x_0 + 12) - 12(y_0 + 5 ) = 5x_0 + 60 - 12y_0 - 60 = 5x_0 - 12y_0 = 1. \]
	Pour trouver une première solution entier, considérons que $12y = 5x-1$, et donc que $12y$ est un multiple de $12$ se finissant par un 4 ou un 9 (c'est un multipe de 5 moins 1).
	On trouve immédiatement $24$ ($y=2, x=5$) qui fonctionne.
	
	On en déduit les solutions $x=5+12=17$ et $y=2+5=7$, puis $x=29, y=12$, et $x=41, y=17$.
}
\exe{, difficulty=2}{
	Pour $a, b \in\Z$ fixés, on cherche les solutions entières de l'équation diophantienne $ax - by = 1$ où $x, y\in\Z$.
	Montrer que si $x_0, y_0 \in \Z$ sont une solution de l'équation, alors $x_0 + b, y_0 + a$ sont également solution.
}{exe:dioph3}{
	On a bien
		\[ a(x_0 + b) - b(y_0 + a ) = ax_0 + ab - by_0 - ba = ax_0 - by_0 = 1. \]
}

\exe{, difficulty=2}{
	Vérifier d'abord que $1 + 3 + 5 + 7 + 9 = 5^2,$
	puis montrer à l'aide de l'exercice \ref{exe:diff-carrés} que la somme des $n+1$ premiers nombres impairs est un carré parfait. Plus précisément,
		\[ 1 + 3 + 5 + \cdots + (2n+1) = (n+1)^2. \]
}{exe:sum-odd}{
	La différence de deux impairs consécutifs étant un impair, et zéro étant un carré parfait, ajouter des impairs consécutifs permet de passer de carrés en carrés.
	
	On a d'abord
	\begin{align*}
		1 &= 1 \\
		2^2 - 1 &= 3 \\
		3^2 - 2^2 &= 5 \\
		4^2 - 3^2 &= 7 \\
		5^2 - 4^2 &= 9
	\end{align*}
	d'où, en sommant, $1+3+5+7+9 = 1 + (2^2 - 1) + (3^2 - 2^2) + (4^2 - 3^2) + (5^2 - 4^2) = 5^2 = 25$.
	La somme est dite \emphindex{téléscopique} car chaque terme en plus annule le précédent.
	
	En continuant, on a les différences suivantes :
		\begin{align*}
			1^2 - 0^2 &= 1 \\
			2^2 - 1^2 &= 3 \\
			3^2 - 2^2 &= 5 \\
					&\vdots \\
			(n+1)^2 - n^2 &= 2n+1.
		\end{align*}
	En ajoutant tous les termes à gauche, on obtient une somme téléscopique qui vaut $(n+1)^2$.
	La somme des termes à droite vaut bien $1 + 3 + 5 + \cdots + (2n+1)$.
}


\exe{, difficulty=2}{
	Déduire de la somme des impairs de l'exercice \ref{exe:sum-odd} que
		\[ 1 + 2 + 3 + \cdots + n = \dfrac{n(n+1)}2. \]
}{exe:sum-all}{
	En partant de l'identité $1 + 3 + 5 + \cdots + (2n+1) = (n+1)^2$, et en soustrayant $n+1$ de chaque côté, on obtient
		\[ 0 + 2 + 4 + \cdots + (2n) = (n+1)^2 - (n+1) = n(n+1),\]
	car $n+1=\underbrace{1+1+\cdots+1}_\text{n fois}$ et car la somme de gauche a $n+1$ termes.
	En divisant par 2, on conclut que
		\[ 1 + 2 + \cdots + n = \dfrac{n(n+1)}2. \]
}

\section{Diviseurs}

\exe{}{
	Une tablette de chocolat classique comprend 12 carrés. Quelles sont les dimensions possibles de la tablette ? On cherche le nombre de carrés en longueur et en largeur.
}{exe:chocolat0}{
	TODO
}

\dfn{}{
	Soient $a, n \in \N$ deux entiers naturels.
	
	On dit que « $a$ divise $n$ » ou que « $n$ est un multiple de $a$ » dès que
		\[ n = a \cdot k, \]
	où $k\in\N$ est un entier naturel.
}{}

\notations{
	On note $a \big| n$ la relation « $a$ divise $n$ ».
}

\exe{}{
	Montrer que 2 divise toujours le produit de deux entiers consécutifs.
}{exe:2divcons}{
	Parmis deux entiers consécutifs, au moins l'un deux est pair.
	L'exercice \ref{exe:mod2} conclut donc.
}

\exe{, difficulty=1}{
	Montrer que si $a \big| n$, alors $(2a) \big| (2n)$.
}{exe:aknk}{
	Par définition, $n = ak$.
	En multipliant par $2$, on obtient $2n = (2a)k$, ce qui conclut.
}

\exe{, difficulty=1}{
	Montrer que si $a \big| n$, alors $(am) \big| (nm)$ pour tout $m\in\N$.
}{exe:aknk}{
	Par définition, $n = ak$.
	En multipliant par $m$, on obtient $nm = (am)k$, ce qui conclut.
}

\dfn{}{
	Pour un $n\in\N$, on pose $\D_n$ l'ensemble des diviseurs de $n$.
		\[ \D_n = \bigset{ a \in \N \tq a \big| n }. \]
}{dfn:ensemble-diviseurs}

\nt{
	Les diviseurs se regroupent toujours par paires, car si $a$ divise $n$ et $n=a \cdot b$, alors $b$ divise $n$ aussi.
}

\exe{}{
	Donner $\D_1, \D_2, \D_3, \D_4, \D_5, \D_6, \D_7, \D_8, \D_9$.
}{exe:diviseurs}{
	\begin{multicols}{2}
	$D_1 = \{ 1 \}$
	
	$D_2 = \{ 1 ; 2\}$
	
	$D_3 = \{ 1 ; 3\}$
	
	$D_4 = \{ 1 ; 4 ; 2 \}$
	
	$D_5 = \{ 1 ; 5\}$
	
	$D_6 = \{ 1 ; 6 ; 2 ; 3\}$
	
	$D_7 = \{ 1 ; 7\}$
	
	$D_8 = \{ 1 ; 8 ; 2 ; 4\}$
	
	$D_9 = \{ 1 ; 3 ; 9\}$
	\end{multicols}
}

\exe{}{
	Trouver trois entiers $n\in\N$ tels que le nombre de diviseurs de $n$ est impair.
}{exe:Dn-impair}{
	D'après l'exercice \ref{exe:diviseurs}, les entiers 1, 4, et 9 fonctionnent. 
}

\exe{, difficulty=1}{
	Montrer que le nombre de diviseurs de $n$ est impair si et seulement si $n$ est un carré parfait ($n = k^2$ pour un $k\in\N$).
}{exe:parité-diviseurs}{
	Les diviseurs se regroupent par paires $(a ; b)$ où $a\cdot b = n$, sauf éventuellement si $a$ et $b$ sont égaux, auquel cas $n = a^2$.
}

\exe{, difficulty=1}{
	Donner $\D_{48}$ et en déduire les entiers naturels $x\in\N$ vérifiant $x^2 - 8x + 16 = 64$.
}{exe:2nd-degré-Z}{
	$\D_{48} = \bigset{1 ; 48 ; 2 ; 24 ; 3 ; 16 ; 4 ; 12 ; 6 ; 8}$.

	Soit $x\in\N$ vérifiant $x^2 - 8x + 16 = 64$.
	En soustrayant $16$, on trouve $x^2 - 8x = 48 \iff x(x-8) = 48$.
	Comme $x\in\N$ est entier, $x-8$ l'est aussi, et les deux nombres divisent 48.
	
	On cherche donc deux éléments de $\D_{48}$ dont le produit vaut 48 et qui sont séparés de $8$ unités.
	Par inspection, seul $4\times12 = 48$ et donc $x=12$ fonctionne, et c'est la seule solution dans $\N$ de l'équation.
	
	Par symétrie, il existe une autre solution, $x = -4$, qui appartient à $\Z$ mais pas à $\N$.
}

\thm{}{
	Considérons $n\in\N$ un entier naturel tel que $2 | n$ et $3 | n$ : $n$ est pair et multiple de $3$.
	Alors $6 | n$ : $n$ est multiple de $6$.
}{thm:2-3-6}

\pf{}{
	Par hypothèses, $n=2k$ et $n=3\ell$, pour certains $k, \ell\in\N$.
	Or $n = 3n - 2n = 3(2k) - 2(3\ell) = 6(k-\ell)$, ce qui conclut.
}

\exe{}{
	Montrer que si $5 \big| n$ et $6 \big| n$, alors $30 \big| n$.
}{exe:coprimalité1}{
	Comme $n = 5k$ et $n = 6 \ell$, on peut écrire
		\[ n = 6n - 5n = 6(5k) - 5(6\ell) = 30(k - \ell). \]
}

\exe{, difficulty=1}{
	Montrer que si $a \big| n$ et $(a+1) \big| n$, alors $a(a+1) \big| n$.
}{exe:coprimalité2}{
	On a bien sûr $(a+1) - a = 1$, qui implique
		\[ n = (a+1)n - an. \]
	Le terme $(a+1)n$ est divisible par $a(a+1)$ car $n$ est divisible par $a$.
	Le terme $an$ est aussi divisible par $a(a+1)$ car $n$ est divisible par $a+1$.
	La somme, $n$, l'est donc également.
}

\exe{}{
	Montrer qu'en général, si $a\big|n$ et $b\big|n$, on a pas nécessairement $(ab)\big|n$.
}{exe:non-coprimalité}{
	Trivialement, 2 divise 2, mais 4 ne divise pas 2.
	Autrement, on peut également citer $3 \big|  24$ et $6 \big| 24$ mais 18 ne divise pas 24.
}

\nt{
	Le théorème \ref{thm:2-3-6} peut s'étendre de la façon suivante : s'il existe $u, v \in\Z$ tels que
		\[ ua + vb = 1, \]
	alors $\bigl( a\big|n \text{ et } b\big|n \bigr) \implies \bigl( (ab) \big| n \bigr)$.
}

\exe{, difficulty=2}{
	Démontrer la remarque ci-dessus.
}{ex:coprimalité2}{
	Si $ua + vb = 1$ et que $a\big|n \text{ et } b\big|n$, alors
		\[ u(an) + v(bn) = n, \]
	avec $ab$ qui divise $bn$ et $an$ car $a$ divise $n$ et $b$ divise $n$ (voir exercice \ref{exe:aknk}).
	
	Ainsi $ab$ divise aussi $uan$ et $vbn$ ainsi que leur somme, valant $n$.
}

\thm{}{
	Considérons $a \big| n$. Alors
		\[ \bigl( m \text{ divisible par $a$} \bigr) \iff \bigl( m+n \text{ divisible par $a$} \bigr). \]
	
	Ajouter un multiple de $a$ ne change pas la divisibilité par $a$ d'un nombre : s'il l'était avant, il le sera alors, et s'il ne l'était pas, il ne le sera pas.
}{thm:divisibilité-combinaison-entière}


\pf{}{
	On a d'abord $n=a\cdot k$, par définition.
	Pour montrer une équivalence $\iff$, on sépare les deux implications à démontrer.
	\begin{enumerate}[leftmargin=120pt]
		\item[\underline{Direction $\implies$ :}]
		Si $a \big| m$, alors $m=a \cdot \ell$, et $n+m = a(k + \ell)$, qui est divisible par $a$ comme requis.
		
		\item[\underline{Direction $\impliedby$ :}]
		Si $a \big| (n+m)$, alors $n+m = a \cdot \ell$.
		Il suit que $m = a \cdot \ell - n = a (\ell - k)$, qui est multiple de $a$ comme requis.
	\end{enumerate}
}

\thm{critère de divisibilité par 3 et 9}{
	Un nombre est divisible par 3 (respectivement 9) si et seulement si la somme de ses chiffres est divisible par 3 (resp. 9).
}{thm:règle-divisibilité-3-9}

\pf{théorème \ref{thm:règle-divisibilité-3-9} pour la divisibilité par 3}{
	Considérons un nombre à deux chiffres pour commencer.
		\begin{align*}
			n = [ab] && \iff && n = 10a + b.
		\end{align*}
	Or comme $-9a = 3(-3a)$ est divisible par 3, on peut soustraire $9a$ sans changer la divisibilité par $3$ de $n$ d'après le théorème \ref{thm:divisibilité-combinaison-entière}.
	On obtient ainsi notre critère de divisibilité car
		\[ \bigl( n = 10a+b \text{ divisible par 3} \bigr) \iff \bigl( n-9a = a+b \text{ divisible par 3} \bigr). \]
	
	Continuons pour un nombre à trois chiffres :
		\begin{align*}
			n = [abc] && \iff && n = 100a + 10b + c.
		\end{align*}
	On résonne de la même façon en soustrayant $99a$ et $9b$ à $n$ sans changer sa divisibilité par $3$ :
		\[ \bigl( n = 100a + 10b + c \text{ divisible par 3} \bigr) \iff \bigl( n-99a-9b = a+b+c \text{ divisible par 3} \bigr). \]
	
	En général, $10^n \cdot a$ est divisible par 3 si et seulement si $a$ l'est, ce qui conclut.
}{}

\exe{, difficulty=1}{
	Démontrer la règle de divisibilité par 9 énoncée par le théorème \ref{thm:règle-divisibilité-3-9}.
}{exe:règle-divisibilité-3-9}{
	$10^n \cdot a$ est divisible par $9$ si et seulement si $a$ l'est, car 
		\[ 10^n \cdot a = (10^n - 1)a + a, \]
	et puisque $10^n - 1 = \underbrace{99{\dots}99}_{\text{n fois}}$ est un multiple de 9.
}

\section{Nombres premiers}

\exe{}{
	Une tablette de chocolat classique comprend 11 carrés. Est-ce possible ?
}{exe:chocolat}{
	TODO
}

\dfn{nombre premier}{
	Soit $p \in\N$. On suppose $p\geq2$ pour des raisons techniques qui seront précisées plus tard.
	
	On appelle $p$ \emphindex{nombre premier} ou simplement \emphindex{premier} dès que
		\[ \D_p = \bigset{ 1 ; p }. \]
	Autrement dit, les seuls diviseurs de $p$ sont $1$ et lui-même, et $p$ n'est pas 1.
}{dfn:nombre-premier}

\notations{
	\[ \P = \bigset{ n \in \N \tq \text{$n$ est premier}}. \]
}

\exe{}{
	Donner les 5 plus petits nombres premiers.
}{exe:premiers}{
	D'après l'exercice \ref{exe:diviseurs}, on sait que 2, 3, 5, et 7 sont premiers, et que 4, 6, 8 ne le sont pas.
	On énumère $\D_9 = \bigset{ 1 ; 9 ; 3 }$, $\D_{10} = \bigset{ 1 ; 10 ; 2 ; 5 }$, puis $\D_{11} = \bigset{ 1 ; 11 }$, ce qui nous donne le 5è premiers.
	
	\[ \P = \bigset{ 2 ; 3 ; 5 ; 7 ; 11 ; 13 ; 17 ; 19 ; 23 ; 29 ; 31 ; \dots }. \]
}

\exe{}{
	Parmis les premiers de l'exercice \ref{exe:premiers}, lequels admettent un nombre premier de lettres lorsqu'écrits en toutes lettres ?
}{exe:premier-premier}{
	Parmis $\bigset{ 2 ; 3 ; 5 ; 7 ; 11 }$, seul « trois » s'écrit avec 5 lettres, le reste des éléments s'écrivant avec 4 lettres.
	Les prochains sont dix-sept et dix-neuf, qui contiennent 7 lettres chacun.
	Question ouverte : en existe-t-il une infinité ?
}

\exe{}{
	Montrer que 2 est le seul nombre premier pair.
}{exe:premier-pair}{
	Soit $p\in\P$ un premier pair.
	Autrement dit, 2 divise $p$. 
	Mais les seuls diviseurs de $p$ sont 1 et lui-même.
	Donc $p=2$.
}

\exe{}{
	Montrer que $n^2$ n'est jamais premier pour n'importe quel $n\in\N$.
}{exe:carré-non-premier}{
	Si $n=0$, $n^2=0$ qui n'est pas premier car ceux-ci commencent à 2.
	Idem pour $n=1$ : $n^2 = 1$ qui n'est pas premier.
	
	Si $n\geq2$, alors $n^2 = n \times n$, et donc $n^2$ admet $n$ comme diviseur, qui n'est ni 1, ni $n^2$, et donc $n^2$ n'est pas premier.
}

\exe{, difficulty=1}{
	Montrer que la différence de deux carrés parfaits non consécutifs n'est jamais un premier.
}{exe:diff-carrés-nonprime}{
	Pour $0\leq m<n$ deux entiers, l'identité remarquable $n^2 - m^2 = (n+m)(n-m)$ donne deux diviseurs, le plus petit étant $n-m$.
	Comme $m$ et $n$ ne sont pas consécutifs, $n-m\neq1$ et $n^2 - m^2$ n'est pas premier.
}

\exe{, difficulty=2}{
	Déduire des exercices \ref{exe:sum-odd} et \ref{exe:diff-carrés-nonprime} que n'importe quelle somme de plus de deux impairs consécutifs n'est jamais un nombre premier.
}{exe:odd-nonprime}{
	N'importe quelle somme d'impairs consécutifs différence de deux somme d'impairs commençant à 0 et donc différence de deux carrés parfaits non consécutifs :
		\begin{align*}
			(2a + 1) + (2a+3) + \cdots + (2b+1) &= \bigl[0 + 3 + \cdots + (2b+1) \bigr] - \bigl[0 + 3 + \cdots + (2a-1) \bigr], \\
				&= (b+1)^2 - a^2 = (a+b+1)(b-a+1).
		\end{align*}
	La factorisation montre que la différence de deux carrés n'est jamais un nombre premier dès que $b-a+1 \neq 1$, c'est-à-dire quand $a$ est différent de $b$ (et donc que la somme contient plus d'un impair).
}


\thm{}{
	Soit $n\in\N$, $n\geq2$.
	Alors $n$ se scinde en produit de nombres premiers.
}{thm:decomposition-primaire}

\pf{}{
	Par définition, un nombre est soit premier, soit il se scinde en produit de deux entiers strictement inférieurs à celui-ci.
	Ainsi pour n'importe quel nombre $n\in\N$ supérieur à $2$, il y a deux alternatives : soit $n$ est premier, soit il se scinde.
	S'il se scinde, on répète le raisonnement sur ses deux facteurs. 
	Ce processus se termine nécessairement en au plus $n$ étapes car chaque facteur est strictement plus petit que son parent.
	À la fin, aucun facteur ne peut se scinder davantage : ils sont donc tous premiers.
}

\exe{}{
	Donner la décomposition en facteurs premiers des éléments de $\D_{24}$ excepté 1.
}{exe:décompositions-primaires}{
	On a $\D_{24} = \bigset{ 1 ; 24 ; 2 ; 12 ; 3 ; 8 , 4 ; 6 }$, qui se décomposent comme suit.
	\begin{multicols}{2}
		$2 = 2$ est déjà premier.
		
		$3=3$ est déjà premier.
		
		$4 = 2 \times 2 = 2^2$.
		
		$6 = 2\times3$.
		
		$8 = 2\times4 = 2\times2\times2 = 2^3$.
		
		$12 = 3 \times 4 = 2^2 \times 3$.
		
		$24 = 4 \times 6 = 2^2 \times 2 \times 3 = 2^3 \times 3$.
	\end{multicols}
}

\thm{}{
	Il existe une infinité de nombres premiers.
}{thm:infinité-premiers}

\exe{, difficulty=2}{
	Considérons $p_1, p_2, \dots, p_k$ des nombres premiers.
	Montrer que le nombre
		\[ N = p_1 \cdot p_2 \cdot\cdots\cdot p_k + 1 \]
	n'est divisible par aucun des premiers $p_1, \dots, p_k$.
	
	Conclure qu'il existe une infinité de nombres premiers.
}{exe:infinité-premiers}{
	Pour chacun des premiers $p_i$ ($i=1, \dots, k$), on peut soustraire à $N$ un multiple de $p_i$ sans changer son caractère divisible ou non par celui-ci (voir théorème \ref{thm:divisibilité-combinaison-entière}).
	Or bien sûr $p_1 \cdot p_2 \cdots p_k$ est un multiple de $p_i$. 
	En le soustrayant à $N$, on sait que
		\[ \big( N \text{ divisible par } p_i \big) \iff \big( 1 \text{ divisible par } p_i \big). \]
	Or 1 n'est pas divisible par $p_i$, donc $N$ ne l'est pas non plus.
	
	Pour conclure sur l'infinité des nombres premiers, supposons par l'absurde qu'il existe exactement $k$ nombres premiers : $p_1, \dots, p_k$.
	Le nombre $N$ construit n'est divisible par aucun d'eux.
	D'après le théorème \ref{thm:decomposition-primaire}, $N$ se décompose en produit de premiers, aucun d'eux n'appartenant à la liste ! \Lightning
}

\nt{
	Le théorème d'\emphindex{unicité} suivant est très important mais sa démonstration est (malheureusement) en dehors du champ d'application du cours.
	Cependant, les outils présentés dans ce chapitre permettent presque de le démontrer (voir le lemme d'Euclide\footnotemark).
}

% TODO: pourquoi la note de bas de page est pas sur la même page ? zut alors
\footnotetext{Euclide (actif vers -300, dates exactes inconnues), mathématicien de la Grèce antique.}

\nomen{
	On appelle \emphindex{théorème fondamental} un théorème essentiel à une branche des mathématiques.
	En mathématiques, l'arithmétique désigne généralement la \emphindex{théorie des nombres}.
}

\thm{théorème fondamental de l'arithmétique}{
	\emph{La} décomposition en facteurs premiers est unique à permutation des facteurs près.
}{thm:decomposition-primaire-strong}

\cor{}{
	Soit $n\in\N$ dont la décomposition en facteurs premiers est donnée par
		\[ n = p_1^{n_1} \cdot\cdots\cdot p_k^{n_k}. \]
	Alors les diviseurs de $n$ sont tous de la forme
		\[ p_1^{m_1} \cdot\cdots\cdot p_k^{m_k}, \]
	où $0 \leq m_i \leq n_i$ pour tout $i=1, \dots, k$.
}{cor:divisibilité-avec-decomposition}

\exe{}{
	Vérifier le corollaire \ref{cor:divisibilité-avec-decomposition} pour $n=24$ à l'aide de l'exercice \ref{exe:décompositions-primaires}.
}{exe:diviseurs-avec-decomposition}{
	La décomposition de $24$ est $24 = 2^3 \times 3$.
	Une inspection rapide des décompositions des diviseurs de $24$ montre bien qu'ils sont tous de la forme $2^a \times 3^b$ avec $0 \leq a \leq 3$ et $0 \leq b \leq 1$.
}

\exe{, difficulty=2}{
	Démontrer le corollaire \ref{cor:divisibilité-avec-decomposition}.
}{exe:divisibilité-avec-decomposition}{
	Si $a$ est de la forme décrite par le théorème, alors $a$ divise $n$ : il suffit de compléter la décomposition de $a$ pour obtenir celle de $n$ en multipliant par un nombre adéquat.
	Par exemple, $2^3 \times 5^2$ divise $2^6 \times 3^2 \times 5^2$ car
		\[ 2^6 \times 3^2 \times 5^2 = (2^3 \times 5^2) \times (2^3 \times 3^2). \]

	Inversement, si $a$ divise $n$, alors $n = a \cdot k$ pour un certain $k\in\N$.
	Considérons désormais les décompositions en facteurs premiers de $a$ et $k$ séparément.
	En les rejoignant, on obtient une décomposition du produit $a \cdot k = n$.
	Par unicité, cette décomposition est \emph{la} décomposition de $n$.
	Ainsi, tous les premiers de la décomposition de $a$ doivent apparaître dans la décomposition de $n$.
	La décomposition de $a$ est donc constituée des premiers apparaissant dans la décomposition de $n$ à une puissance inférieure (et possiblement nulle).
}

\cor{}{
	Soit $n\in\N, n\geq2$ dont la décomposition en facteurs premiers est donnée par
		\[ n = p_1^{n_1} \cdots p_k^{n_k}. \]
	Alors le nombre de diviseurs de $n$ est égal à
		\[ (n_1 + 1)\cdot(n_2+1)\cdot\cdots\cdot(n_k+1). \]
	C'est le nombre d'éléments de $\D_n$.
}{cor:nombre-diviseurs-avec-decomposition}

\exe{}{
	Vérifier le corollaire \ref{cor:nombre-diviseurs-avec-decomposition} pour $n=24$ et $n=28$.
}{exe:nombre-diviseurs-avec-decomposition-24-28}{
	D'abord pour $n=24$, on a $\D_{24} = \bigset{ 1 ; 24 ; 2 ; 12 ; 3 ; 8 ; 4 ; 6 }$, qui contient 8 éléments. 
	Comme $24 = 2^3 \times 3^1$, le calcul $(3+1)\times(1+1) = 8$ donne bien le nombre de diviseurs de $24$.
	
	Ensuite pour $n=28$, on a $28 = 2^2 \times 7^1$ et on s'attend donc à ce que les diviseurs de $28$ soient au nombre de $(2+1)\times(1+1) = 6$.
	On énumère $\D_{28} = \bigset{ 1 ; 28 ; 2 ; 14 ; 4 ; 7 }$ qui contient bien 6 éléments.
}

\exe{, difficulty=2}{
	Démontrer le corollaire \ref{cor:nombre-diviseurs-avec-decomposition}.
}{ex:nombre-diviseurs-avec-decomposition}{
	Par unicité de la décomposition en facteurs premiers, tous les diviseurs du corollaire \ref{cor:divisibilité-avec-decomposition} sont différents.
	Il y a donc une correspondance entre le nombre de diviseurs et les configurations différentes de puissances $m_1, \dots, m_k$.
	
	Pour chaque $i=1, \dots, k$, il y a $n_i+1$ choix pour la puissance $m_i$  ($m_i$ peut valoir $0, 1, 2, \dots, n_i$).
	Au total, il y a donc bien $(n_1 + 1)\cdot(n_2+1)\cdot\cdots\cdot(n_k+1)$ uniques choix de puissances.
}

\cor{}{
	Soit $n\in\N, n\geq2$ dont la décomposition en facteurs premiers est donnée par
		\[ n = p_1^{n_1} \cdots p_k^{n_k}. \]
	Alors
		\begin{align*}
			\bigl( \text{$n$ est un carré parfait} \bigr) && \iff && \bigl( \text{$n_1, n_2, \dots, n_k$ sont tous pairs} \bigr)
		\end{align*}
}{cor:carré-paire}

\exe{, difficulty=2}{
	Démontrer le corollaire \ref{cor:carré-paire}.
}{exe:carré-paire}{
	Si $n$ est un carré parfait, alors $n=k^2$.
	En écrivant $k = q_1^{m_1} \cdots q_{l}^{m_l}$ la décomposition de $k$, et en utilisant que $(ab)^2 = (ab)(ab) = a^2 b^2$ et que $(a^n)^2 = a^{2n}$, on trouve
		\[ n = k^2  = q_1^{2m_1} \cdots q_{l}^{2m_l}. \]
	Par unicité, cette égalité donne la décomposition en facteurs premiers, dont chaque puissance est paire.
	
	Réciproquement, si $n_1, n_2, \dots, n_k$ sont tous pairs, alors $n_1 = 2m_1, n_2 = 2m_2, \dots n_k=2m_k$.
	Il suit que $n$ est un carré parfait :	
		\[ n = p_1^{2m_1} \cdots p_k^{2m_k} ) \left( n = p_1^{m_1} \cdots p_k^{m_k}\right)^2. \]
}

\exe{}{
	À l'aide de la décomposition $2160 = 2^4 \times 3^3 \times 5$, écrire 2160 sous la forme $a^2 \times b$, où $a, b\in\N$ et $b$ est le plus petit possible.
}{exe:sq-factor}{
	On crée $a$ en extrayant le plus de carrés possible pour obtenir le $b$ le plus petit.
	$2160 = \bigl(2^2 \times 3\bigr)^2 \times 3 \times 5 = 12^2 \times 15$.
}

\exe{}{
	Exprimer 6~750 sous la forme $a^2 \times b$, où $a, b\in\N$ et $b$ est le plus petit possible. 
}{exe:6750-factor}{
	On décompose d'abord $6~750 = 10 \times 675 = 10 \times 135 \times 5 = 10 \times 27 \times 5^2 = 2 \times 3^3 \times 5^3$.
	D'où $6~750 = \bigl(3\times5)^2 \times 2 \times3\times5 = 15^2 \times 30$.
}
